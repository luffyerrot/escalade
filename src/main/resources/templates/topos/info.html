<!DOCTYPE html>
<html xmlns:th="www.thymeleaf.org">
<head th:insert="fragments/head.html">
	<meta charset="UTF-8"/>
	<title>Info topos</title>
</head>
<body>
	<header th:insert="fragments/header.html"></header>
	<div align="center">
		<h1><b>Mes Topos :</b></h1>
		<br/>
		<div class="container card">
				<table class="table table-dark">
					<thead>
						<tr>
							<th scope="col">Nom</th>
							<th scope="col">Lieu</th>
							<th scope="col">Description</th>
							<th scope="col">Date</th>
							<th scope="col">Modifier</th>
							<th scope="col">Officiel</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="topo : ${topos}">
					        <td th:text="${topo.name}">...</td>
					        <td th:text="${topo.place}">...</td>
					        <td th:text="${topo.description}">...</td>
					        <td th:text="${topo.date}">...</td>
					        <td><a class="btn btn-outline-secondary" th:href="@{/topos/update(idTopos = ${topo.id})}">Modifier</a></td>
					        <td>
								<div th:switch="${topo.official}">
									<div th:case="true"><img alt="true" src="/image/true.png"></div>
									<div th:case="false"><img alt="false" src="/image/false.png"></div>
								</div>
							</td>
							<td>
							<div th:switch="${topo.official}">
								<div th:case="true">
									<form th:action="@{/topos/info}" th:objet="${topos}" method="post">
										<input type="hidden" th:name="id" th:value="${topo.id}"/>
										<input type="hidden" th:name="date" th:value="${topo.date}"/>
										<input type="hidden" th:name="description" th:value="${topo.description}"/>
										<input type="hidden" th:name="name" th:value="${topo.name}"/>
										<input type="hidden" th:name="place" th:value="${topo.place}"/>
										<input type="hidden" th:name="reserved" th:value="${topo.reserved}"/>
										<input type="hidden" th:name="official" th:value="false"/>
										<input type="submit" value="Changer"  class="btn btn-outline-secondary" id="link"/>
									</form>
								</div>
								<div th:case="false">
									<form th:action="@{/topos/info}" th:objet="${topos}" method="post">
										<input type="hidden" th:name="id" th:value="${topo.id}"/>
										<input type="hidden" th:name="date" th:value="${topo.date}"/>
										<input type="hidden" th:name="description" th:value="${topo.description}"/>
										<input type="hidden" th:name="name" th:value="${topo.name}"/>
										<input type="hidden" th:name="place" th:value="${topo.place}"/>
										<input type="hidden" th:name="reserved" th:value="${topo.reserved}"/>
										<input type="hidden" th:name="official" th:value="true"/>
										<input type="submit" value="Changer"  class="btn btn-outline-secondary" id="link"/>
									</form>
								</div>
							</div>
						</td>
					    </tr>
				    </tbody>
				</table>
				<br/>
				<p align="center" sec:authorize="isAuthenticated()">
					<a th:href="@{/topos/create}" class="btn btn-outline-secondary">Cr√©er un topos</a>
				</p>
	  		</div>	
		</div>
	<div th:insert="fragments/footer.html"></div>
</body>
</html>