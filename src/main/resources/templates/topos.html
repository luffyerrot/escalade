<!DOCTYPE html>
<html xmlns:th="www.thymeleaf.org">
<head th:insert="fragments/head.html">
	<meta charset="UTF-8"/>
	<title>Edition</title>
</head>
<body>
	<header th:insert="fragments/header.html"></header>
	<div align="center">
		<h1><b>Mes topos :</b></h1>
		<br/>
		<div class="container card">
			<div th:if="${param.creatopos == null}">
				<table class="table table-dark">
					<thead>
						<tr>
							<th scope="col">Nom</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="topo : ${topos}">
					        <td th:text="${topo.name}">...</td>
					    </tr>
				    </tbody>
				</table>
				<p align="center" sec:authorize="isAuthenticated()">
					<a th:href="@{/user/topos?creatopos(id = ${id})}" class="btn btn-outline-secondary">Créer un topos</a>
				</p>
			</div>
			<div th:if="${param.creatopos}">
				<h1>Créer un topos</h1>
				<form action="#" th:action="@{/user/topos(id = ${id})}" th:objet="${topos}" method="post">
					<input type="hidden" th:name="reserved" th:value="false"></input>
					<div class="form-group">
						<label>Nom :</label>
						<input type="text" th:name="name" placeholder="Le nom du Topos" autofocus class="form-control"/>
					</div>
					<br/>
					<div class="form-group">
						<label>Description :</label>
						<input type="textarea" th:name="description" placeholder="La description de votre Topos" class="form-control"/>
					</div>
					<br/>
					<div class="form-group">
						<label>Lieu :</label>
						<input type="text" th:name="place" placeholder="Le lieu " class="form-control"/>
					</div>
					<br/>
					<input type="submit" value="Envoyer"  class="btn btn-outline-secondary" id="link"/>
				</form>
	  		</div>	
		</div>
	</div>
	<div th:insert="fragments/footer.html"></div>
</body>
</html>